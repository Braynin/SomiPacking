<!-- Contenedor del botón flotante -->
<div class="fixed bottom-4 right-4 flex flex-col items-end z-50">
    <!-- Botón de WhatsApp -->
    <button 
    id="whatsapp-button"
    class="bg-[#25D366] p-3 rounded-full shadow-lg hover:bg-[#1EBE57] transition-all flex items-center justify-center w-14 h-14 border-2 relative"
  >
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" class="w-full h-full" fill="white">
          <path d="M25,2C12.318,2,2,12.318,2,25c0,3.96,1.023,7.854,2.963,11.29L2.037,46.73c-0.096,0.343-0.003,0.711,0.245,0.966 C2.473,47.893,2.733,48,3,48c0.08,0,0.161-0.01,0.24-0.029l10.896-2.699C17.463,47.058,21.21,48,25,48c12.682,0,23-10.318,23-23 S37.682,2,25,2z M36.57,33.116c-0.492,1.362-2.852,2.605-3.986,2.772c-1.018,0.149-2.306,0.213-3.72-0.231 c-0.857-0.27-1.957-0.628-3.366-1.229c-5.923-2.526-9.791-8.415-10.087-8.804C15.116,25.235,13,22.463,13,19.594 s1.525-4.28,2.067-4.864c0.542-0.584,1.181-0.73,1.575-0.73s0.787,0.005,1.132,0.021c0.363,0.018,0.85-0.137,1.329,1.001 c0.492,1.168,1.673,4.037,1.819,4.33c0.148,0.292,0.246,0.633,0.05,1.022c-0.196,0.389-0.294,0.632-0.59,0.973 s-0.62,0.76-0.886,1.022c-0.296,0.291-0.603,0.606-0.259,1.19c0.344,0.584,1.529,2.493,3.285,4.039 c2.255,1.986,4.158,2.602,4.748,2.894c0.59,0.292,0.935,0.243,1.279-0.146c0.344-0.39,1.476-1.703,1.869-2.286 s0.787-0.487,1.329-0.292c0.542,0.194,3.445,1.604,4.035,1.896c0.59,0.292,0.984,0.438,1.132,0.681 C37.062,30.587,37.062,31.755,36.57,33.116z"></path>
      </svg>
  </button>
  
    <!-- Burbuja de chat -->
    <div id="whatsapp-chat" class="hidden bg-white shadow-lg rounded-lg w-80 border border-[#25D366]">
        <!-- Encabezado con logo y botón de cerrar -->
        <div class="bg-[#25D366] text-white px-4 py-2 flex items-center justify-between rounded-t-lg">
            <div class="flex items-center gap-2">
                <!-- Logo de WhatsApp corregido -->
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="w-6 h-6" fill="white">
                    <path d="M380.9 97.1C339.6 55.9 283.4 32 224 32 100.3 32 0 132.3 0 256c0 45 11.9 88.8 34.5 127.3L2.5 472c-3.1 11.6 7.6 22.3 19.2 19.2l88.7-32c37 20.2 78.3 30.8 113.6 30.8h.1c123.7 0 224-100.3 224-224 .1-59.4-23.2-115.6-65.2-157.8zM224 438.1c-33 0-70-10.2-105.8-29.5l-7.6-4.1-65.9 23.8 22.8-64.5-4.9-7.9C40 321.1 32 289.9 32 256c0-106 86-192 192-192 51.2 0 99.3 19.9 135.5 56.1s56.1 84.3 56.1 135.5c0 106.1-86 192.1-192.1 192.1zm99.1-136.9c-5.4-2.7-32-15.8-37-17.6s-8.6-1.9-12.2 3.8-14 17.6-17.2 21.2-6.3 4-11.6 1.3c-31.4-15.7-52.1-28-73.1-63.7-5.5-9.5 5.5-8.8 15.8-29.3 1.8-3.7.9-6.8-.5-9.4s-12.2-29.4-16.7-40.3c-4.4-10.9-8.9-9.4-12.2-9.6s-6.8-.7-10.4-.7c-3.7 0-9.6 1.3-14.6 6.8s-19.2 18.8-19.2 45.8 19.7 53.3 22.4 57c2.7 3.7 38.7 59 93.9 82.9 13.1 5.7 23.3 9.1 31.3 11.7 13.2 4.2 25.2 3.6 34.7 2.2 10.6-1.6 32-13.1 36.5-25.8s4.5-23.5 3.2-25.8c-1.3-2.2-4.9-3.6-10.4-6.3z"/>
                </svg>
                <span class="font-bold text-lg">WhatsApp</span>
            </div>
            <button id="close-chat" class="text-white text-xl font-bold hover:text-gray-200 transition">&times;</button>
        </div>

        <!-- Mensaje de bienvenida -->
        <div class="p-4">
            <div class="bg-[#E8F5E9] rounded-lg p-3 text-gray-700 shadow-sm">
                Hola! Somos <strong>SOMI PACKAGING</strong>, coméntanos en qué podemos ayudarte.
            </div>
        </div>

        <!-- Botón para abrir el chat -->
        <div class="px-4 pb-4">
            <a href="https://wa.me/XXXXXXXXXX" target="_blank" 
               class="bg-[#25D366] text-white w-full flex items-center justify-center px-4 py-3 rounded-full font-bold hover:bg-[#1EBE57] transition-all shadow-lg gap-2">
                Abrir chat
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white" class="w-5 h-5">
                    <path d="M2 21L23 12 2 3v7l15 2-15 2z"></path>
                </svg>
            </a>
        </div>
    </div>
</div>

<!-- JavaScript para mostrar y ocultar el chat -->
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const whatsappButton = document.getElementById("whatsapp-button");
    const whatsappChat = document.getElementById("whatsapp-chat");
    const closeChat = document.getElementById("close-chat");

    if (whatsappButton && whatsappChat && closeChat) {
      whatsappButton.addEventListener("click", () => {
        whatsappChat.classList.toggle("hidden");
        whatsappButton.classList.toggle("hidden"); // Oculta el botón al abrir el chat
      });

      closeChat.addEventListener("click", () => {
        whatsappChat.classList.add("hidden");
        whatsappButton.classList.remove("hidden"); // Muestra el botón al cerrar el chat
      });
    }
  });
</script>